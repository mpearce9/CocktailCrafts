{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Mixins\nimport Stackable from '../stackable';\nimport { factory as positionableFactory } from '../positionable';\nimport Activatable from '../activatable';\nimport Detachable from '../detachable'; // Utilities\n\nimport mixins from '../../util/mixins';\nimport { convertToUnit } from '../../util/helpers';\nvar baseMixins = mixins(Stackable, positionableFactory(['top', 'right', 'bottom', 'left', 'absolute']), Activatable, Detachable);\n/* @vue/component */\n\nexport default baseMixins.extend().extend({\n  name: 'menuable',\n  props: {\n    allowOverflow: Boolean,\n    light: Boolean,\n    dark: Boolean,\n    maxWidth: {\n      type: [Number, String],\n      \"default\": 'auto'\n    },\n    minWidth: [Number, String],\n    nudgeBottom: {\n      type: [Number, String],\n      \"default\": 0\n    },\n    nudgeLeft: {\n      type: [Number, String],\n      \"default\": 0\n    },\n    nudgeRight: {\n      type: [Number, String],\n      \"default\": 0\n    },\n    nudgeTop: {\n      type: [Number, String],\n      \"default\": 0\n    },\n    nudgeWidth: {\n      type: [Number, String],\n      \"default\": 0\n    },\n    offsetOverflow: Boolean,\n    positionX: {\n      type: Number,\n      \"default\": null\n    },\n    positionY: {\n      type: Number,\n      \"default\": null\n    },\n    zIndex: {\n      type: [Number, String],\n      \"default\": null\n    }\n  },\n  data: function data() {\n    return {\n      activatorNode: [],\n      absoluteX: 0,\n      absoluteY: 0,\n      activatedBy: null,\n      activatorFixed: false,\n      dimensions: {\n        activator: {\n          top: 0,\n          left: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0,\n          offsetTop: 0,\n          scrollHeight: 0,\n          offsetLeft: 0\n        },\n        content: {\n          top: 0,\n          left: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0,\n          offsetTop: 0,\n          scrollHeight: 0\n        }\n      },\n      relativeYOffset: 0,\n      hasJustFocused: false,\n      hasWindow: false,\n      inputActivator: false,\n      isContentActive: false,\n      pageWidth: 0,\n      pageYOffset: 0,\n      stackClass: 'v-menu__content--active',\n      stackMinZIndex: 6\n    };\n  },\n  computed: {\n    computedLeft: function computedLeft() {\n      var a = this.dimensions.activator;\n      var c = this.dimensions.content;\n      var activatorLeft = (this.attach !== false ? a.offsetLeft : a.left) || 0;\n      var minWidth = Math.max(a.width, c.width);\n      var left = 0;\n      left += activatorLeft;\n      if (this.left || this.$vuetify.rtl && !this.right) left -= minWidth - a.width;\n\n      if (this.offsetX) {\n        var maxWidth = isNaN(Number(this.maxWidth)) ? a.width : Math.min(a.width, Number(this.maxWidth));\n        left += this.left ? -maxWidth : a.width;\n      }\n\n      if (this.nudgeLeft) left -= parseInt(this.nudgeLeft);\n      if (this.nudgeRight) left += parseInt(this.nudgeRight);\n      return left;\n    },\n    computedTop: function computedTop() {\n      var a = this.dimensions.activator;\n      var c = this.dimensions.content;\n      var top = 0;\n      if (this.top) top += a.height - c.height;\n      if (this.attach !== false) top += a.offsetTop;else top += a.top + this.pageYOffset;\n      if (this.offsetY) top += this.top ? -a.height : a.height;\n      if (this.nudgeTop) top -= parseInt(this.nudgeTop);\n      if (this.nudgeBottom) top += parseInt(this.nudgeBottom);\n      return top;\n    },\n    hasActivator: function hasActivator() {\n      return !!this.$slots.activator || !!this.$scopedSlots.activator || !!this.activator || !!this.inputActivator;\n    },\n    absoluteYOffset: function absoluteYOffset() {\n      return this.pageYOffset - this.relativeYOffset;\n    }\n  },\n  watch: {\n    disabled: function disabled(val) {\n      val && this.callDeactivate();\n    },\n    isActive: function isActive(val) {\n      if (this.disabled) return;\n      val ? this.callActivate() : this.callDeactivate();\n    },\n    positionX: 'updateDimensions',\n    positionY: 'updateDimensions'\n  },\n  beforeMount: function beforeMount() {\n    this.hasWindow = typeof window !== 'undefined';\n\n    if (this.hasWindow) {\n      window.addEventListener('resize', this.updateDimensions, false);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.hasWindow) {\n      window.removeEventListener('resize', this.updateDimensions, false);\n    }\n  },\n  methods: {\n    absolutePosition: function absolutePosition() {\n      return {\n        offsetTop: this.positionY || this.absoluteY,\n        offsetLeft: this.positionX || this.absoluteX,\n        scrollHeight: 0,\n        top: this.positionY || this.absoluteY,\n        bottom: this.positionY || this.absoluteY,\n        left: this.positionX || this.absoluteX,\n        right: this.positionX || this.absoluteX,\n        height: 0,\n        width: 0\n      };\n    },\n    activate: function activate() {},\n    calcLeft: function calcLeft(menuWidth) {\n      return convertToUnit(this.attach !== false ? this.computedLeft : this.calcXOverflow(this.computedLeft, menuWidth));\n    },\n    calcTop: function calcTop() {\n      return convertToUnit(this.attach !== false ? this.computedTop : this.calcYOverflow(this.computedTop));\n    },\n    calcXOverflow: function calcXOverflow(left, menuWidth) {\n      var xOverflow = left + menuWidth - this.pageWidth + 12;\n\n      if ((!this.left || this.right) && xOverflow > 0) {\n        left = Math.max(left - xOverflow, 0);\n      } else {\n        left = Math.max(left, 12);\n      }\n\n      return left + this.getOffsetLeft();\n    },\n    calcYOverflow: function calcYOverflow(top) {\n      var documentHeight = this.getInnerHeight();\n      var toTop = this.absoluteYOffset + documentHeight;\n      var activator = this.dimensions.activator;\n      var contentHeight = this.dimensions.content.height;\n      var totalHeight = top + contentHeight;\n      var isOverflowing = toTop < totalHeight; // If overflowing bottom and offset\n      // TODO: set 'bottom' position instead of 'top'\n\n      if (isOverflowing && this.offsetOverflow && // If we don't have enough room to offset\n      // the overflow, don't offset\n      activator.top > contentHeight) {\n        top = this.pageYOffset + (activator.top - contentHeight); // If overflowing bottom\n      } else if (isOverflowing && !this.allowOverflow) {\n        top = toTop - contentHeight - 12; // If overflowing top\n      } else if (top < this.absoluteYOffset && !this.allowOverflow) {\n        top = this.absoluteYOffset + 12;\n      }\n\n      return top < 12 ? 12 : top;\n    },\n    callActivate: function callActivate() {\n      if (!this.hasWindow) return;\n      this.activate();\n    },\n    callDeactivate: function callDeactivate() {\n      this.isContentActive = false;\n      this.deactivate();\n    },\n    checkForPageYOffset: function checkForPageYOffset() {\n      if (this.hasWindow) {\n        this.pageYOffset = this.activatorFixed ? 0 : this.getOffsetTop();\n      }\n    },\n    checkActivatorFixed: function checkActivatorFixed() {\n      if (this.attach !== false) return;\n      var el = this.getActivator();\n\n      while (el) {\n        if (window.getComputedStyle(el).position === 'fixed') {\n          this.activatorFixed = true;\n          return;\n        }\n\n        el = el.offsetParent;\n      }\n\n      this.activatorFixed = false;\n    },\n    deactivate: function deactivate() {},\n    genActivatorListeners: function genActivatorListeners() {\n      var _this = this;\n\n      var listeners = Activatable.options.methods.genActivatorListeners.call(this);\n      var onClick = listeners.click;\n\n      if (onClick) {\n        listeners.click = function (e) {\n          if (_this.openOnClick) {\n            onClick && onClick(e);\n          }\n\n          _this.absoluteX = e.clientX;\n          _this.absoluteY = e.clientY;\n        };\n      }\n\n      return listeners;\n    },\n    getInnerHeight: function getInnerHeight() {\n      if (!this.hasWindow) return 0;\n      return window.innerHeight || document.documentElement.clientHeight;\n    },\n    getOffsetLeft: function getOffsetLeft() {\n      if (!this.hasWindow) return 0;\n      return window.pageXOffset || document.documentElement.scrollLeft;\n    },\n    getOffsetTop: function getOffsetTop() {\n      if (!this.hasWindow) return 0;\n      return window.pageYOffset || document.documentElement.scrollTop;\n    },\n    getRoundedBoundedClientRect: function getRoundedBoundedClientRect(el) {\n      var rect = el.getBoundingClientRect();\n      return {\n        top: Math.round(rect.top),\n        left: Math.round(rect.left),\n        bottom: Math.round(rect.bottom),\n        right: Math.round(rect.right),\n        width: Math.round(rect.width),\n        height: Math.round(rect.height)\n      };\n    },\n    measure: function measure(el) {\n      if (!el || !this.hasWindow) return null;\n      var rect = this.getRoundedBoundedClientRect(el); // Account for activator margin\n\n      if (this.attach !== false) {\n        var style = window.getComputedStyle(el);\n        rect.left = parseInt(style.marginLeft);\n        rect.top = parseInt(style.marginTop);\n      }\n\n      return rect;\n    },\n    sneakPeek: function sneakPeek(cb) {\n      var _this2 = this;\n\n      requestAnimationFrame(function () {\n        var el = _this2.$refs.content;\n\n        if (!el || el.style.display !== 'none') {\n          cb();\n          return;\n        }\n\n        el.style.display = 'inline-block';\n        cb();\n        el.style.display = 'none';\n      });\n    },\n    startTransition: function startTransition() {\n      var _this3 = this;\n\n      return new Promise(function (resolve) {\n        return requestAnimationFrame(function () {\n          _this3.isContentActive = _this3.hasJustFocused = _this3.isActive;\n          resolve();\n        });\n      });\n    },\n    updateDimensions: function updateDimensions() {\n      var _this4 = this;\n\n      this.hasWindow = typeof window !== 'undefined';\n      this.checkActivatorFixed();\n      this.checkForPageYOffset();\n      this.pageWidth = document.documentElement.clientWidth;\n      var dimensions = {\n        activator: _objectSpread({}, this.dimensions.activator),\n        content: _objectSpread({}, this.dimensions.content)\n      }; // Activator should already be shown\n\n      if (!this.hasActivator || this.absolute) {\n        dimensions.activator = this.absolutePosition();\n      } else {\n        var activator = this.getActivator();\n        if (!activator) return;\n        dimensions.activator = this.measure(activator);\n        dimensions.activator.offsetLeft = activator.offsetLeft;\n\n        if (this.attach !== false) {\n          // account for css padding causing things to not line up\n          // this is mostly for v-autocomplete, hopefully it won't break anything\n          dimensions.activator.offsetTop = activator.offsetTop;\n        } else {\n          dimensions.activator.offsetTop = 0;\n        }\n      } // Display and hide to get dimensions\n\n\n      this.sneakPeek(function () {\n        if (_this4.$refs.content) {\n          if (_this4.$refs.content.offsetParent) {\n            var offsetRect = _this4.getRoundedBoundedClientRect(_this4.$refs.content.offsetParent);\n\n            _this4.relativeYOffset = window.pageYOffset + offsetRect.top;\n            dimensions.activator.top -= _this4.relativeYOffset;\n            dimensions.activator.left -= window.pageXOffset + offsetRect.left;\n          }\n\n          dimensions.content = _this4.measure(_this4.$refs.content);\n        }\n\n        _this4.dimensions = dimensions;\n      });\n    }\n  }\n});","map":{"version":3,"mappings":"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","names":["Stackable","factory","positionableFactory","Activatable","Detachable","mixins","convertToUnit","baseMixins","extend","name","props","allowOverflow","Boolean","light","dark","maxWidth","type","Number","String","minWidth","nudgeBottom","nudgeLeft","nudgeRight","nudgeTop","nudgeWidth","offsetOverflow","positionX","positionY","zIndex","data","activatorNode","absoluteX","absoluteY","activatedBy","activatorFixed","dimensions","activator","top","left","bottom","right","width","height","offsetTop","scrollHeight","offsetLeft","content","relativeYOffset","hasJustFocused","hasWindow","inputActivator","isContentActive","pageWidth","pageYOffset","stackClass","stackMinZIndex","computed","computedLeft","a","c","activatorLeft","attach","Math","max","$vuetify","rtl","offsetX","isNaN","min","parseInt","computedTop","offsetY","hasActivator","$slots","$scopedSlots","absoluteYOffset","watch","disabled","val","callDeactivate","isActive","callActivate","beforeMount","window","addEventListener","updateDimensions","beforeDestroy","removeEventListener","methods","absolutePosition","activate","calcLeft","menuWidth","calcXOverflow","calcTop","calcYOverflow","xOverflow","getOffsetLeft","documentHeight","getInnerHeight","toTop","contentHeight","totalHeight","isOverflowing","deactivate","checkForPageYOffset","getOffsetTop","checkActivatorFixed","el","getActivator","getComputedStyle","position","offsetParent","genActivatorListeners","listeners","options","call","onClick","click","openOnClick","e","clientX","clientY","innerHeight","document","documentElement","clientHeight","pageXOffset","scrollLeft","scrollTop","getRoundedBoundedClientRect","rect","getBoundingClientRect","round","measure","style","marginLeft","marginTop","sneakPeek","cb","requestAnimationFrame","$refs","display","startTransition","Promise","resolve","clientWidth","absolute","offsetRect"],"sourceRoot":"","sources":["../../../src/mixins/menuable/index.ts"],"sourcesContent":["// Mixins\nimport Stackable from '../stackable'\nimport { factory as positionableFactory } from '../positionable'\nimport Activatable from '../activatable'\nimport Detachable from '../detachable'\n\n// Utilities\nimport mixins, { ExtractVue } from '../../util/mixins'\nimport { convertToUnit } from '../../util/helpers'\n\n// Types\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  Stackable,\n  positionableFactory(['top', 'right', 'bottom', 'left', 'absolute']),\n  Activatable,\n  Detachable,\n)\n\ninterface dimensions {\n  top: number\n  left: number\n  bottom: number\n  right: number\n  width: number\n  height: number\n  offsetTop: number\n  scrollHeight: number\n  offsetLeft: number\n}\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  attach: boolean | string | Element\n  offsetY: boolean\n  offsetX: boolean\n  dimensions: {\n    activator: dimensions\n    content: dimensions\n  }\n  $refs: {\n    content: HTMLElement\n    activator: HTMLElement\n  }\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'menuable',\n\n  props: {\n    allowOverflow: Boolean,\n    light: Boolean,\n    dark: Boolean,\n    maxWidth: {\n      type: [Number, String],\n      default: 'auto',\n    },\n    minWidth: [Number, String],\n    nudgeBottom: {\n      type: [Number, String],\n      default: 0,\n    },\n    nudgeLeft: {\n      type: [Number, String],\n      default: 0,\n    },\n    nudgeRight: {\n      type: [Number, String],\n      default: 0,\n    },\n    nudgeTop: {\n      type: [Number, String],\n      default: 0,\n    },\n    nudgeWidth: {\n      type: [Number, String],\n      default: 0,\n    },\n    offsetOverflow: Boolean,\n    positionX: {\n      type: Number,\n      default: null,\n    },\n    positionY: {\n      type: Number,\n      default: null,\n    },\n    zIndex: {\n      type: [Number, String],\n      default: null,\n    },\n  },\n\n  data: () => ({\n    activatorNode: [] as VNode[],\n    absoluteX: 0,\n    absoluteY: 0,\n    activatedBy: null as EventTarget | null,\n    activatorFixed: false,\n    dimensions: {\n      activator: {\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        width: 0,\n        height: 0,\n        offsetTop: 0,\n        scrollHeight: 0,\n        offsetLeft: 0,\n      },\n      content: {\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        width: 0,\n        height: 0,\n        offsetTop: 0,\n        scrollHeight: 0,\n      },\n    },\n    relativeYOffset: 0,\n    hasJustFocused: false,\n    hasWindow: false,\n    inputActivator: false,\n    isContentActive: false,\n    pageWidth: 0,\n    pageYOffset: 0,\n    stackClass: 'v-menu__content--active',\n    stackMinZIndex: 6,\n  }),\n\n  computed: {\n    computedLeft () {\n      const a = this.dimensions.activator\n      const c = this.dimensions.content\n      const activatorLeft = (this.attach !== false ? a.offsetLeft : a.left) || 0\n      const minWidth = Math.max(a.width, c.width)\n      let left = 0\n      left += activatorLeft\n      if (this.left || (this.$vuetify.rtl && !this.right)) left -= (minWidth - a.width)\n      if (this.offsetX) {\n        const maxWidth = isNaN(Number(this.maxWidth))\n          ? a.width\n          : Math.min(a.width, Number(this.maxWidth))\n\n        left += this.left ? -maxWidth : a.width\n      }\n      if (this.nudgeLeft) left -= parseInt(this.nudgeLeft)\n      if (this.nudgeRight) left += parseInt(this.nudgeRight)\n\n      return left\n    },\n    computedTop () {\n      const a = this.dimensions.activator\n      const c = this.dimensions.content\n      let top = 0\n\n      if (this.top) top += a.height - c.height\n      if (this.attach !== false) top += a.offsetTop\n      else top += a.top + this.pageYOffset\n      if (this.offsetY) top += this.top ? -a.height : a.height\n      if (this.nudgeTop) top -= parseInt(this.nudgeTop)\n      if (this.nudgeBottom) top += parseInt(this.nudgeBottom)\n\n      return top\n    },\n    hasActivator (): boolean {\n      return !!this.$slots.activator || !!this.$scopedSlots.activator || !!this.activator || !!this.inputActivator\n    },\n    absoluteYOffset (): number {\n      return this.pageYOffset - this.relativeYOffset\n    },\n  },\n\n  watch: {\n    disabled (val) {\n      val && this.callDeactivate()\n    },\n    isActive (val) {\n      if (this.disabled) return\n\n      val ? this.callActivate() : this.callDeactivate()\n    },\n    positionX: 'updateDimensions',\n    positionY: 'updateDimensions',\n  },\n\n  beforeMount () {\n    this.hasWindow = typeof window !== 'undefined'\n\n    if (this.hasWindow) {\n      window.addEventListener('resize', this.updateDimensions, false)\n    }\n  },\n\n  beforeDestroy () {\n    if (this.hasWindow) {\n      window.removeEventListener('resize', this.updateDimensions, false)\n    }\n  },\n\n  methods: {\n    absolutePosition () {\n      return {\n        offsetTop: this.positionY || this.absoluteY,\n        offsetLeft: this.positionX || this.absoluteX,\n        scrollHeight: 0,\n        top: this.positionY || this.absoluteY,\n        bottom: this.positionY || this.absoluteY,\n        left: this.positionX || this.absoluteX,\n        right: this.positionX || this.absoluteX,\n        height: 0,\n        width: 0,\n      }\n    },\n    activate () {},\n    calcLeft (menuWidth: number) {\n      return convertToUnit(this.attach !== false\n        ? this.computedLeft\n        : this.calcXOverflow(this.computedLeft, menuWidth))\n    },\n    calcTop () {\n      return convertToUnit(this.attach !== false\n        ? this.computedTop\n        : this.calcYOverflow(this.computedTop))\n    },\n    calcXOverflow (left: number, menuWidth: number) {\n      const xOverflow = left + menuWidth - this.pageWidth + 12\n\n      if ((!this.left || this.right) && xOverflow > 0) {\n        left = Math.max(left - xOverflow, 0)\n      } else {\n        left = Math.max(left, 12)\n      }\n\n      return left + this.getOffsetLeft()\n    },\n    calcYOverflow (top: number) {\n      const documentHeight = this.getInnerHeight()\n      const toTop = this.absoluteYOffset + documentHeight\n      const activator = this.dimensions.activator\n      const contentHeight = this.dimensions.content.height\n      const totalHeight = top + contentHeight\n      const isOverflowing = toTop < totalHeight\n\n      // If overflowing bottom and offset\n      // TODO: set 'bottom' position instead of 'top'\n      if (isOverflowing &&\n        this.offsetOverflow &&\n        // If we don't have enough room to offset\n        // the overflow, don't offset\n        activator.top > contentHeight\n      ) {\n        top = this.pageYOffset + (activator.top - contentHeight)\n      // If overflowing bottom\n      } else if (isOverflowing && !this.allowOverflow) {\n        top = toTop - contentHeight - 12\n      // If overflowing top\n      } else if (top < this.absoluteYOffset && !this.allowOverflow) {\n        top = this.absoluteYOffset + 12\n      }\n\n      return top < 12 ? 12 : top\n    },\n    callActivate () {\n      if (!this.hasWindow) return\n\n      this.activate()\n    },\n    callDeactivate () {\n      this.isContentActive = false\n\n      this.deactivate()\n    },\n    checkForPageYOffset () {\n      if (this.hasWindow) {\n        this.pageYOffset = this.activatorFixed ? 0 : this.getOffsetTop()\n      }\n    },\n    checkActivatorFixed () {\n      if (this.attach !== false) return\n      let el = this.getActivator()\n      while (el) {\n        if (window.getComputedStyle(el).position === 'fixed') {\n          this.activatorFixed = true\n          return\n        }\n        el = el.offsetParent as HTMLElement\n      }\n      this.activatorFixed = false\n    },\n    deactivate () {},\n    genActivatorListeners () {\n      const listeners = Activatable.options.methods.genActivatorListeners.call(this)\n\n      const onClick = listeners.click\n\n      if (onClick) {\n        listeners.click = (e: MouseEvent & KeyboardEvent & FocusEvent) => {\n          if (this.openOnClick) {\n            onClick && onClick(e)\n          }\n\n          this.absoluteX = e.clientX\n          this.absoluteY = e.clientY\n        }\n      }\n\n      return listeners\n    },\n    getInnerHeight () {\n      if (!this.hasWindow) return 0\n\n      return window.innerHeight ||\n        document.documentElement.clientHeight\n    },\n    getOffsetLeft () {\n      if (!this.hasWindow) return 0\n\n      return window.pageXOffset ||\n        document.documentElement.scrollLeft\n    },\n    getOffsetTop () {\n      if (!this.hasWindow) return 0\n\n      return window.pageYOffset ||\n        document.documentElement.scrollTop\n    },\n    getRoundedBoundedClientRect (el: Element) {\n      const rect = el.getBoundingClientRect()\n      return {\n        top: Math.round(rect.top),\n        left: Math.round(rect.left),\n        bottom: Math.round(rect.bottom),\n        right: Math.round(rect.right),\n        width: Math.round(rect.width),\n        height: Math.round(rect.height),\n      }\n    },\n    measure (el: HTMLElement) {\n      if (!el || !this.hasWindow) return null\n\n      const rect = this.getRoundedBoundedClientRect(el)\n\n      // Account for activator margin\n      if (this.attach !== false) {\n        const style = window.getComputedStyle(el)\n\n        rect.left = parseInt(style.marginLeft!)\n        rect.top = parseInt(style.marginTop!)\n      }\n\n      return rect\n    },\n    sneakPeek (cb: () => void) {\n      requestAnimationFrame(() => {\n        const el = this.$refs.content\n\n        if (!el || el.style.display !== 'none') {\n          cb()\n          return\n        }\n\n        el.style.display = 'inline-block'\n        cb()\n        el.style.display = 'none'\n      })\n    },\n    startTransition () {\n      return new Promise<void>(resolve => requestAnimationFrame(() => {\n        this.isContentActive = this.hasJustFocused = this.isActive\n        resolve()\n      }))\n    },\n    updateDimensions () {\n      this.hasWindow = typeof window !== 'undefined'\n      this.checkActivatorFixed()\n      this.checkForPageYOffset()\n      this.pageWidth = document.documentElement.clientWidth\n\n      const dimensions: any = {\n        activator: { ...this.dimensions.activator },\n        content: { ...this.dimensions.content },\n      }\n\n      // Activator should already be shown\n      if (!this.hasActivator || this.absolute) {\n        dimensions.activator = this.absolutePosition()\n      } else {\n        const activator = this.getActivator()\n        if (!activator) return\n\n        dimensions.activator = this.measure(activator)\n        dimensions.activator.offsetLeft = activator.offsetLeft\n        if (this.attach !== false) {\n          // account for css padding causing things to not line up\n          // this is mostly for v-autocomplete, hopefully it won't break anything\n          dimensions.activator.offsetTop = activator.offsetTop\n        } else {\n          dimensions.activator.offsetTop = 0\n        }\n      }\n\n      // Display and hide to get dimensions\n      this.sneakPeek(() => {\n        if (this.$refs.content) {\n          if (this.$refs.content.offsetParent) {\n            const offsetRect = this.getRoundedBoundedClientRect(this.$refs.content.offsetParent)\n\n            this.relativeYOffset = window.pageYOffset + offsetRect.top\n            dimensions.activator.top -= this.relativeYOffset\n            dimensions.activator.left -= window.pageXOffset + offsetRect.left\n          }\n\n          dimensions.content = this.measure(this.$refs.content)\n        }\n\n        this.dimensions = dimensions\n      })\n    },\n  },\n})\n"]},"metadata":{},"sourceType":"module"}