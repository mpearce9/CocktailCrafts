{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nvar apiClient = axios.create({\n  baseUrl: 'http://localhost:3000',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  }\n});\nexport default {\n  data: function data() {\n    return {\n      valid: true,\n      valid1: true,\n      emailbox: '',\n      emailbox1: '',\n      passwordbox: '',\n      passwordbox1: '',\n      namebox: '',\n      pass: String,\n      pass1: String,\n      signupalert: false,\n      loginalert: false,\n      signupalertbad: false,\n      loginalertbad: false,\n      emailRules: [function (v) {\n        return !!v || 'E-mail is required';\n      }, function (v) {\n        return /.+@.+\\..+/.test(v) || 'E-mail must be valid';\n      }],\n      passwordRules: [function (v) {\n        return !!v || 'Password is required';\n      }, function (v) {\n        return v && v.length > 6 || 'Password must be more than 6 characters';\n      }],\n      nameRules: [function (v) {\n        return !!v || 'Name is required';\n      }, function (v) {\n        return v.length <= 10 || 'Name must be less than 10 characters';\n      }],\n      checkbox: false\n    };\n  },\n  methods: {\n    loginUser: function loginUser() {\n      var _this = this;\n\n      apiClient.post('/api/login', {\n        email: this.emailbox,\n        password: this.passwordbox\n      }).then(function (response) {\n        console.log(response.data);\n\n        if (response.data == \"success\") {\n          _this.loginalert = true;\n          _this.loginalertbad = false;\n          window.location.replace('http://localhost:3000/discover');\n        } else {\n          console.log(response.data);\n          _this.loginalertbad = true;\n          _this.loginalert = false; //  this.emailbox = '';\n          //  this.passwordbox = '';\n\n          _this.$refs.form.reset();\n        }\n      })[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    },\n    signUp: function signUp() {\n      var _this2 = this;\n\n      apiClient.post('/api/signup', {\n        name: this.namebox,\n        email: this.emailbox1,\n        password: this.passwordbox1\n      }).then(function (response) {\n        if (response.data == \"success\") {\n          _this2.signupalert = true;\n          _this2.signupalertbad = false;\n          _this2.namebox = '';\n          _this2.emailbox1 = '';\n          _this2.passwordbox1 = '';\n        } else {\n          console.log(response.data);\n          _this2.signupalertbad = true;\n          _this2.signupalert = false; //  this.namebox = '';\n          //  this.emailbox1 = '';\n          //  this.passwordbox1 = '';\n\n          _this2.$refs.form.reset();\n        }\n      })[\"catch\"](function (err) {\n        return next(err);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoJA;AACA;AAAAA;AAAAC;AAAA;AAAA;AAAA;AAAA;AACA;AACAC,MADA,kBACA;AACA;AACAC,iBADA;AAEAC,kBAFA;AAGAC,kBAHA;AAIAC,mBAJA;AAKAC,qBALA;AAMAC,sBANA;AAOAC,iBAPA;AAQAC,kBARA;AASAC,mBATA;AAUAC,wBAVA;AAWAC,uBAXA;AAYAC,2BAZA;AAaAC,0BAbA;AAcAC,mBACA;AAAA;AAAA,OADA,EAEA;AAAA;AAAA,OAFA,CAdA;AAkBAC,sBACA;AAAA;AAAA,OADA,EAEA;AAAA;AAAA,OAFA,CAlBA;AAsBAC,kBACA;AAAA;AAAA,OADA,EAEA;AAAA;AAAA,OAFA,CAtBA;AA0BAC;AA1BA;AA4BA,GA9BA;AA+BAC;AACAC,aADA,uBACA;AAAA;;AACAC;AACAC,4BADA;AAEAC;AAFA,SAIAC,IAJA,CAIA;AACAC;;AACA;AACA;AACA;AACAC;AACA,SAJA,MAIA;AACAD;AACA;AACA,mCAHA,CAIA;AACA;;AACA;AACA;AACA,OAlBA,WAmBA;AAAA;AAAA,OAnBA;AAoBA,KAtBA;AAuBAE,UAvBA,oBAuBA;AAAA;;AACAN;AACAO,0BADA;AAEAN,6BAFA;AAGAC;AAHA,SAKAC,IALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,MAMA;AACAC;AACA;AACA,qCAHA,CAIA;AACA;AACA;;AACA;AACA;AACA,OArBA,WAsBA;AAAA;AAAA,OAtBA;AAuBA;AA/CA;AA/BA","names":["baseUrl","headers","data","valid","valid1","emailbox","emailbox1","passwordbox","passwordbox1","namebox","pass","pass1","signupalert","loginalert","signupalertbad","loginalertbad","emailRules","passwordRules","nameRules","checkbox","methods","loginUser","apiClient","email","password","then","console","window","signUp","name"],"sourceRoot":"src/views","sources":["loginComponent.vue"],"sourcesContent":["<template>\r\n    <v-app>\r\n    <v-container>\r\n    <v-row\r\n      class=\"mb-8\"\r\n      no-gutters\r\n    >\r\n      <v-col md=\"5\" offset-md=\"0\">\r\n          <h1>join the <strong><span style = \"font-size:1.75em; color:#1260cc;\">fun</span></strong>.</h1>\r\n          <v-card class = \"logincard\">\r\n            <v-form\r\n            ref=\"form\"\r\n            v-model=\"valid\"\r\n            lazy-validation\r\n        >\r\n            <v-text-field\r\n            v-model=\"emailbox\"\r\n            :rules=\"emailRules\"\r\n            label=\"E-mail\"\r\n            required\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n            v-model=\"passwordbox\"\r\n            :rules=\"passwordRules\"\r\n            label=\"Password\"\r\n            required\r\n            :append-icon= \"pass1 ? 'mdi-eye-outline' : 'mdi-eye-off-outline'\"\r\n            @click:append= \"() => (pass1 = !pass1)\"\r\n            :type=\"pass1 ? 'password' : 'text'\"\r\n            ></v-text-field>\r\n\r\n            <v-btn\r\n            color=\"info\" block @click=\"loginUser\"\r\n            :disabled=\"!valid\"\r\n            >\r\n            log in\r\n            </v-btn>\r\n            <v-alert\r\n              :value=\"loginalert\"\r\n              type =\"success\"\r\n              dense\r\n              prominent\r\n              dismissable\r\n              transition=\"scale-transition\"\r\n              id = \"loginalert\"\r\n            >\r\n            Success. Logging you in...\r\n            </v-alert>\r\n            <v-alert\r\n              :value=\"loginalertbad\"\r\n              type =\"error\"\r\n              dense\r\n              prominent\r\n              dismissable\r\n              transition=\"scale-transition\"\r\n              id = \"loginalertbad\"\r\n            >\r\n            Error. Username or password incorrect.\r\n            </v-alert>\r\n        </v-form>\r\n        </v-card>\r\n      </v-col>\r\n      <v-divider\r\n      class = \"mx-16\"\r\n        vertical\r\n      ></v-divider>\r\n      <v-col\r\n        md=\"5\"\r\n        offset-md=\"0\"\r\n      >\r\n      <v-card class = \"logincard\">\r\n          <h2 style = \"text-align: center;\">Don't have an account?</h2>\r\n            <v-form\r\n            ref=\"form1\"\r\n            v-model=\"valid1\"\r\n            lazy-validation\r\n        >\r\n            <v-text-field\r\n            v-model=\"namebox\"\r\n            :counter=\"10\"\r\n            :rules=\"nameRules\"\r\n            label=\"Name\"\r\n            required\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n            v-model=\"emailbox1\"\r\n            :rules=\"emailRules\"\r\n            label=\"E-mail\"\r\n            required\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n            v-model=\"passwordbox1\"\r\n            :rules=\"passwordRules\"\r\n            label=\"Password\"\r\n            required\r\n            :append-icon= \"pass ? 'mdi-eye-outline' : 'mdi-eye-off-outline'\"\r\n            @click:append= \"() => (pass = !pass)\"\r\n            :type=\"pass ? 'password' : 'text'\"\r\n            ></v-text-field>\r\n\r\n            <v-checkbox\r\n            v-model=\"checkbox\"\r\n            :rules=\"[v => !!v || 'You must agree to continue!']\"\r\n            label=\"Do you agree to our terms and agreements?\"\r\n            required\r\n            ></v-checkbox>\r\n\r\n            <v-btn\r\n            color=\"info\" block @click=\"signUp\"\r\n            :disabled=\"!valid1\"\r\n            >\r\n            join now\r\n            </v-btn>\r\n            <v-alert\r\n              :value=\"signupalert\"\r\n              type =\"success\"\r\n              dense\r\n              prominent\r\n              dismissable\r\n              transition=\"scale-transition\"\r\n              id = \"signupalert\"\r\n            >\r\n            Success. Account created, please log in.\r\n            </v-alert>\r\n            <v-alert\r\n              :value=\"signupalertbad\"\r\n              type =\"error\"\r\n              dense\r\n              prominent\r\n              dismissable\r\n              transition=\"scale-transition\"\r\n              id = \"signupalertbad\"\r\n            >\r\n            Error creating account.\r\n            </v-alert>\r\n        </v-form>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n    </v-container>\r\n    </v-app>\r\n</template>\r\n\r\n\r\n<script>\r\n  import axios from 'axios';\r\n  const apiClient = axios.create({ baseUrl: 'http://localhost:3000', headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' } });\r\n  export default {\r\n    data(){\r\n        return{\r\n        valid: true,\r\n        valid1: true,\r\n        emailbox: '',\r\n        emailbox1:'',\r\n        passwordbox:'',\r\n        passwordbox1:'',\r\n        namebox:'',\r\n        pass: String,\r\n        pass1: String,\r\n        signupalert:false,\r\n        loginalert:false,\r\n        signupalertbad:false,\r\n        loginalertbad:false,\r\n        emailRules: [\r\n          v => !!v || 'E-mail is required',\r\n          v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\r\n        ],\r\n        passwordRules:[\r\n            v => !!v || 'Password is required',\r\n            v => (v && v.length >6) || 'Password must be more than 6 characters',\r\n        ],\r\n        nameRules: [\r\n          v => !!v || 'Name is required',\r\n          v => v.length <= 10 || 'Name must be less than 10 characters',\r\n        ],\r\n        checkbox: false,\r\n      }\r\n      },\r\n      methods:{\r\n            loginUser(){\r\n                apiClient.post('/api/login', {\r\n                    email: this.emailbox,\r\n                    password: this.passwordbox\r\n                })\r\n                .then(response => {\r\n                  console.log(response.data);\r\n                  if(response.data == \"success\"){\r\n                      this.loginalert = true;\r\n                      this.loginalertbad = false;\r\n                      window.location.replace('http://localhost:3000/discover');\r\n                 }else{\r\n                     console.log(response.data);\r\n                     this.loginalertbad = true;\r\n                     this.loginalert = false;\r\n                    //  this.emailbox = '';\r\n                    //  this.passwordbox = '';\r\n                     this.$refs.form.reset();\r\n                 }  \r\n                })\r\n                .catch(err => console.log(err));\r\n            },\r\n            signUp(){\r\n             apiClient.post('/api/signup', {\r\n                 name: this.namebox,\r\n                 email: this.emailbox1,\r\n                 password: this.passwordbox1\r\n             })\r\n             .then(response => {\r\n                 if(response.data == \"success\"){\r\n                      this.signupalert = true;\r\n                      this.signupalertbad = false;\r\n                      this.namebox = '';\r\n                      this.emailbox1 = '';\r\n                      this.passwordbox1 = '';\r\n                 }else{\r\n                     console.log(response.data);\r\n                     this.signupalertbad = true;\r\n                     this.signupalert = false;\r\n                    //  this.namebox = '';\r\n                    //  this.emailbox1 = '';\r\n                    //  this.passwordbox1 = '';\r\n                     this.$refs.form.reset();\r\n                 } \r\n             })\r\n             .catch(err => next(err));\r\n         }\r\n      }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n#signupalert, #loginalert, #signupalertbad, #loginalertbad {\r\n    margin-top:5px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}